<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head') %>

  <body>
    <%- include('./partials/header') %>

    <div class="basis-9/12 bg-zinc-900 min-h-screen w-full p-10">
      <div class="flex justify-start items-center mb-10">
        <img
          class="inline-block h-20 w-20 rounded-full"
          src="data:image/jpeg;base64,<%= user.image.toString('base64') %>"
          alt="image"
        />
        <h2 class="text-white text-4xl font-bold ms-10">Hello, <%= user.name %> !</h2>
      </div>

      <h2 class="text-white text-4xl mb-10 font-bold">Hello, You Can Edit Post From Here!</h2>

      <form action="/product/editProduct" method="post" enctype="multipart/form-data">
        <input
          class="bg-transparent p-3 w-2/3 outline-none border-2 border-zinc-600 rounded-lg text-white block mb-5"
          name="proname"
          type="text"
          value="<%= product.proname %>"
          placeholder="Enter Product Name"
        />
        <input
          class="bg-transparent p-3 w-2/3 outline-none border-2 border-zinc-600 rounded-lg text-white block mb-5"
          name="disc"
          type="text"
          value="<%= product.disc %>"
          placeholder="Enter Product Description"
        />
        <input
          class="bg-transparent p-3 w-2/3 outline-none border-2 border-zinc-600 rounded-lg text-white block mb-5"
          name="price"
          type="number"
          value="<%= product.price %>"
          placeholder="Enter Product Price"
        />
        <input
          class="bg-transparent p-3 w-2/3 outline-none border-2 border-zinc-600 rounded-lg text-white block mb-5"
          name="discount"
          type="number"
          value="<%= product.discount %>"
          placeholder="Enter Discount On Product"
        />
        <div class="flex w-2/3 items-center justify-between bg-grey-lighter mb-3">
          <label
            class="w-2/3 flex flex-col items-center px-4 py-8 bg-zinc-800 rounded-lg shadow-lg tracking-wide uppercase border border-zinc-500 cursor-pointer hover:bg-zinc-600 hover:text-white"
          >
            <svg
              class="w-8 h-8"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
            >
              <path
                d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"
              />
            </svg>
            <span class="mt-2 text-base leading-normal">Select a profile image</span>
            <input type="file" name="image" class="hidden" />
          </label>
          <img
            class="w-1/3 ms-3 h-40"
            src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
            alt="image"
          />
        </div>

        <select
          class="bg-transparent p-3 w-2/3 outline-none border-2 border-zinc-600 rounded-lg text-white block mb-20"
          name="company"
          id=""
        >
          <option
            style="
              color: white;
              background-color: rgb(59, 59, 59);
              font-size: 16px;
              font-family: Arial, sans-serif;
            "
            value=""
            disabled
            selected
          >
            -----Select Company-----
          </option>
          <% companies.map((cate)=>{ %>
          <option
            style="
              color: white;
              background-color: rgb(59, 59, 59);
              font-size: 16px;
              font-family: Arial, sans-serif;
            "
            value="<%= cate._id %>"
             <% if (cate._id == product.company.toString()) { %>  selected <% } %> 
          >
            <%= cate.company_name %>
          </option>
          <% }) %>
        </select>

        <input
          class="bg-blue-500 p-3 rounded-lg w-56 mt-3 text-white block"
          type="submit"
          value="Edit Product"
        />
      </form>
    </div>
  </body>
</html>
